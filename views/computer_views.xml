<odoo>
    <record id="view_computer_tree" model="ir.ui.view">
        <field name="name">system.computer.tree</field>
        <field name="model">system.monitor.computer</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="username"/>
                <field name="last_seen"/>
            </tree>
        </field>
    </record>

    <record id="view_computer_form" model="ir.ui.view">
        <field name="name">system.computer.form</field>
        <field name="model">system.monitor.computer</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <notebook>
                        <page string="Basic Info">
                            <group>
                                <field name="name"/>
                                <field name="username"/>
                                <field name="last_seen"/>
                            </group>
                        </page>
                        <page string="Metrics History">
                            <field name="metric_ids" search_view_id="view_system_metric_search">>
                                <tree>
                                    <field name="timestamp"/>
                                    <field name="cpu_percent"/>
                                    <field name="ram_percent"/>
                                </tree>
                                <graph ref="view_system_metric_embedded_graph"/>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_computer_kanban" model="ir.ui.view">
        <field name="name">system.computer.kanban</field>
        <field name="model">system.monitor.computer</field>
        <field name="arch" type="xml">
            <kanban decoration-danger="latest_cpu > 80" decoration-warning="latest_cpu > 50" decoration-success="latest_cpu &lt;= 50">
                <field name="latest_cpu"/>
                <field name="latest_ram"/>
                <field name="is_active"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="oe_kanban_content">
                                <div class="oe_kanban_header">
                                    <b><field name="name"/></b>
                                    <span t-if="record.is_active.raw_value" style="color: green; margin-left: 5px;">●</span>
                                    <span t-else="" style="color: red; margin-left: 5px;">●</span>
                                </div>
                                <div>User: <field name="username"/></div>
                                <div>Last Seen: <field name="last_seen"/></div>
                                <div>CPU: <field name="latest_cpu"/>%</div>
                                <div>RAM: <field name="latest_ram"/>%</div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>



    <record id="action_system_computers" model="ir.actions.act_window">
        <field name="name">Monitored Computers</field>
        <field name="res_model">system.monitor.computer</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <!-- Updated menu structure -->
    <menuitem id="menu_system_monitor"
              name="System Monitor"
              sequence="100"/>

    <menuitem id="menu_system_computers"
              name="Computers"
              parent="menu_system_monitor"
              action="action_system_computers"
              sequence="10"/>
</odoo>